[gd_scene load_steps=58 format=2]

[ext_resource path="res://Resources/Tilesets/PrimititveTileset.tres" type="TileSet" id=1]
[ext_resource path="res://Game Objects/Actors/Players/Rose/RosePrefab.tscn" type="PackedScene" id=2]
[ext_resource path="res://Resources/Tilesets/Ledges.tres" type="TileSet" id=3]
[ext_resource path="res://Scripts/Objects/TileMap/ledge_tilemap_gen.gd" type="Script" id=4]
[ext_resource path="res://Game Objects/Testing/rotlight.gd" type="Script" id=5]
[ext_resource path="res://Assets/Sprites/Actors/Enemies/Woodeater_Soldier/Woodeater_Soldier_Prototype.png" type="Texture" id=6]
[ext_resource path="res://Game Objects/Testing/Light2D.tscn" type="PackedScene" id=7]
[ext_resource path="res://Assets/Lights/background.png" type="Texture" id=8]
[ext_resource path="res://Assets/Lights/light_nopix.png" type="Texture" id=9]
[ext_resource path="res://Resources/Tilesets/StoneSpriteShape.tscn" type="PackedScene" id=12]
[ext_resource path="res://addons/rmsmartshape/vertex_properties.gd" type="Script" id=13]
[ext_resource path="res://addons/rmsmartshape/shapes/point_array.gd" type="Script" id=14]
[ext_resource path="res://addons/rmsmartshape/shapes/point.gd" type="Script" id=15]

[sub_resource type="Resource" id=2]
script = ExtResource( 13 )
texture_idx = 5
flip = false
width = 1.0

[sub_resource type="Resource" id=3]
script = ExtResource( 15 )
position = Vector2( -387, 111 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 2 )

[sub_resource type="Resource" id=4]
script = ExtResource( 13 )
texture_idx = 9
flip = false
width = 1.0

[sub_resource type="Resource" id=5]
script = ExtResource( 15 )
position = Vector2( -387, -63 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4 )

[sub_resource type="Resource" id=6]
script = ExtResource( 13 )
texture_idx = 5
flip = false
width = 1.0

[sub_resource type="Resource" id=7]
script = ExtResource( 15 )
position = Vector2( -236, -64 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 6 )

[sub_resource type="Resource" id=8]
script = ExtResource( 13 )
texture_idx = 2
flip = false
width = 1.0

[sub_resource type="Resource" id=9]
script = ExtResource( 15 )
position = Vector2( -228, 104 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 8 )

[sub_resource type="Resource" id=10]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=11]
script = ExtResource( 15 )
position = Vector2( -236, 112 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 10 )

[sub_resource type="Resource" id=12]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=13]
script = ExtResource( 15 )
position = Vector2( -236, 112 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 12 )

[sub_resource type="Resource" id=14]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=15]
script = ExtResource( 15 )
position = Vector2( -388, 104 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 14 )

[sub_resource type="Resource" id=16]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=17]
script = ExtResource( 15 )
position = Vector2( -380, 112 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 16 )

[sub_resource type="Resource" id=18]
script = ExtResource( 13 )
texture_idx = 4
flip = false
width = 1.0

[sub_resource type="Resource" id=19]
script = ExtResource( 15 )
position = Vector2( -388, -56 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 18 )

[sub_resource type="Resource" id=20]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=21]
script = ExtResource( 15 )
position = Vector2( -228, -56 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 20 )

[sub_resource type="Resource" id=22]
script = ExtResource( 13 )
texture_idx = 4
flip = false
width = 1.0

[sub_resource type="Resource" id=23]
script = ExtResource( 15 )
position = Vector2( -229, -63 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 22 )

[sub_resource type="Resource" id=24]
script = ExtResource( 13 )
texture_idx = 7
flip = false
width = 1.0

[sub_resource type="Resource" id=25]
script = ExtResource( 15 )
position = Vector2( -229, 111 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 24 )

[sub_resource type="Resource" id=26]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=27]
script = ExtResource( 15 )
position = Vector2( -388, -48 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 26 )

[sub_resource type="Resource" id=28]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=29]
script = ExtResource( 15 )
position = Vector2( -244, -64 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 28 )

[sub_resource type="Resource" id=30]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=31]
script = ExtResource( 15 )
position = Vector2( -228, -48 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 30 )

[sub_resource type="Resource" id=32]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=33]
script = ExtResource( 15 )
position = Vector2( -228, 96 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 32 )

[sub_resource type="Resource" id=34]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=35]
script = ExtResource( 15 )
position = Vector2( -244, 112 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 34 )

[sub_resource type="Resource" id=36]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=37]
script = ExtResource( 15 )
position = Vector2( -388, 96 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 36 )

[sub_resource type="Resource" id=38]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=39]
script = ExtResource( 15 )
position = Vector2( -372, 112 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 38 )

[sub_resource type="Resource" id=40]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=41]
script = ExtResource( 15 )
position = Vector2( -380, -64 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 40 )

[sub_resource type="Resource" id=42]
script = ExtResource( 13 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=43]
script = ExtResource( 15 )
position = Vector2( -372, -64 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 42 )

[sub_resource type="Resource" id=44]
script = ExtResource( 14 )
_points = {
4: SubResource( 3 ),
7: SubResource( 5 ),
9: SubResource( 7 ),
10: SubResource( 9 ),
11: SubResource( 11 ),
12: SubResource( 13 ),
14: SubResource( 15 ),
15: SubResource( 17 ),
17: SubResource( 19 ),
19: SubResource( 21 ),
21: SubResource( 23 ),
22: SubResource( 25 ),
24: SubResource( 27 ),
25: SubResource( 29 ),
26: SubResource( 31 ),
27: SubResource( 33 ),
28: SubResource( 35 ),
29: SubResource( 37 ),
30: SubResource( 39 ),
31: SubResource( 41 ),
32: SubResource( 43 )
}
_point_order = [ 11, 28, 30, 15, 4, 14, 29, 24, 17, 7, 31, 32, 25, 9, 21, 19, 26, 27, 10, 22, 12 ]
_constraints = {
[ 11, 12 ]: 15
}
_next_key = 33
_material_overrides = {
}

[sub_resource type="OccluderPolygon2D" id=1]
polygon = PoolVector2Array( -19, 10, 3, -5, 26, -5, 38, 7, 38, 16, -19, 15 )

[node name="TestRoom" type="Node2D"]

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2( 0.1, 0.1 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/ParallaxLayer"]
visible = false
position = Vector2( 265, 44 )
scale = Vector2( 0.5, 0.5 )
z_index = 100
texture = ExtResource( 9 )

[node name="Sprite2" type="Sprite" parent="ParallaxBackground/ParallaxLayer"]
modulate = Color( 0.27451, 0.27451, 0.27451, 1 )
light_mask = 2
scale = Vector2( 20, 20 )
z_index = -100
texture = ExtResource( 8 )

[node name="skylight" type="Node2D" parent="ParallaxBackground/ParallaxLayer"]
visible = false
position = Vector2( 265, -1544 )
scale = Vector2( 4, 4 )

[node name="Light2D" parent="ParallaxBackground/ParallaxLayer/skylight" instance=ExtResource( 7 )]
position = Vector2( -1000, 0 )
texture = ExtResource( 9 )
texture_scale = 50.0
range_height = 800.0
shadow_enabled = true
shadow_item_cull_mask = 3

[node name="Light2D2" parent="ParallaxBackground/ParallaxLayer/skylight" instance=ExtResource( 7 )]
position = Vector2( 0, 0 )
texture = ExtResource( 9 )
texture_scale = 50.0
range_height = 800.0
shadow_enabled = true
shadow_item_cull_mask = 3

[node name="Light2D3" parent="ParallaxBackground/ParallaxLayer/skylight" instance=ExtResource( 7 )]
position = Vector2( 1000, 0 )
texture = ExtResource( 9 )
texture_scale = 50.0
range_height = 800.0
shadow_enabled = true
shadow_item_cull_mask = 3

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color( 0.496094, 0.496094, 0.496094, 1 )

[node name="TileMap" type="TileMap" parent="."]
light_mask = 3
tile_set = ExtResource( 1 )
cell_size = Vector2( 32, 32 )
occluder_light_mask = 0
format = 1
tile_data = PoolIntArray( -327684, 0, 0, -262149, 0, 0, -262145, 0, 0, -196612, 0, 0, -262144, 0, 0, -131077, 0, 0, -131073, 0, 0, -65540, 0, 0, 131046, 4, 0, 131047, 4, 1, 131048, 4, 2, 131049, 4, 3, 131052, 3, 0, 131053, 3, 1, 131054, 3, 2, 131059, 2, 0, 131060, 2, 1, 196554, 0, 0, 196555, 0, 0, 196556, 0, 0, 196557, 0, 0, 196558, 0, 0, 196559, 0, 0, 196560, 0, 0, 196561, 0, 0, 196562, 0, 0, 196563, 0, 0, 196564, 0, 0, 196565, 0, 0, 196566, 0, 0, 196567, 0, 0, 196568, 0, 0, 196569, 0, 0, 196570, 0, 0, 196571, 0, 0, 196572, 0, 0, 196573, 0, 0, 196574, 0, 0, 196575, 0, 0, 196576, 0, 0, 196577, 0, 0, 196578, 0, 0, 196579, 0, 0, 196580, 0, 0, 196581, 0, 0, 196582, 0, 0, 196583, 0, 0, 196584, 0, 0, 196585, 0, 0, 196586, 0, 0, 196587, 0, 0, 196588, 0, 0, 196589, 0, 0, 196590, 0, 0, 196591, 0, 0, 196592, 0, 0, 196593, 0, 0, 196594, 0, 0, 196595, 0, 0, 196596, 0, 0, 196597, 0, 0, 196598, 0, 0, 196599, 0, 0, 196600, 0, 0, 196601, 0, 0, 196602, 0, 0, 196603, 0, 0, 196604, 0, 0, 196605, 0, 0, 196606, 0, 0, 196607, 0, 0, 131072, 0, 0, 131073, 0, 0, 131074, 0, 0, 131075, 0, 0, 131076, 0, 0, 131077, 0, 0, 131078, 0, 0, 131079, 0, 0, 131080, 0, 0, 131081, 0, 0, 131082, 0, 0, 131083, 0, 0, 131084, 0, 0, 131085, 0, 0, 131086, 0, 0, 131087, 0, 0, 131088, 0, 0, 131089, 0, 0, 131090, 0, 0, 131091, 0, 0, 131092, 0, 0, 131093, 0, 0, 131094, 0, 0, 131095, 0, 0, 131096, 0, 0, 131097, 0, 0, 131098, 0, 0, 131099, 0, 0, 131100, 0, 0, 131101, 0, 0, 131102, 0, 0, 131103, 0, 0, 131104, 0, 0, 131105, 0, 0, 131106, 0, 0, 131107, 0, 0, 131108, 0, 0, 131109, 0, 0, 131110, 0, 0, 131111, 0, 0, 131112, 0, 0, 131113, 0, 0, 131114, 0, 0, 131115, 0, 0, 131116, 0, 0, 131117, 0, 0, 131118, 0, 0, 131119, 0, 0, 131120, 0, 0, 131121, 0, 0, 131122, 0, 0, 131123, 0, 0, 131124, 0, 0, 131125, 0, 0, 131126, 0, 0, 131127, 0, 0, 131128, 0, 0, 131129, 0, 0, 131130, 0, 0, 131131, 0, 0, 131132, 0, 0, 131133, 0, 0, 131134, 0, 0, 131135, 0, 0, 131136, 0, 0, 131137, 0, 0, 131138, 0, 0, 131139, 0, 0, 131140, 0, 0, 131141, 0, 0, 131142, 0, 0, 131143, 0, 0, 131144, 0, 0, 131145, 0, 0, 131146, 0, 0, 131147, 0, 0, 131148, 0, 0, 131149, 0, 0, 131150, 0, 0, 131151, 0, 0, 131152, 0, 0, 131153, 0, 0, 131154, 0, 0, 131155, 0, 0, 131156, 0, 0, 131157, 0, 0, 131158, 0, 0, 131159, 0, 0, 131160, 0, 0, 131161, 0, 0, 131162, 0, 0, 131163, 0, 0, 131164, 0, 0, 131165, 0, 0, 131166, 0, 0, 131167, 0, 0, 131168, 0, 0, 131169, 0, 0, 131170, 0, 0, 131171, 0, 0, 131172, 0, 0, 131173, 0, 0, 131174, 0, 0, 131175, 0, 0, 131176, 0, 0, 131177, 0, 0, 131178, 0, 0, 131179, 0, 0, 131180, 0, 0, 131181, 0, 0, 131182, 0, 0, 131183, 0, 0, 131184, 0, 0, 131185, 0, 0, 131186, 0, 0, 131187, 0, 0, 131188, 0, 0, 131189, 0, 0, 131190, 0, 0, 131191, 0, 0, 131192, 0, 0, 131193, 0, 0, 131194, 0, 0, 131195, 0, 0, 131196, 0, 0, 131197, 0, 0, 131198, 0, 0, 131199, 0, 0, 131200, 0, 0, 131201, 0, 0, 131202, 0, 0, 131203, 0, 0, 131204, 0, 0, 131205, 0, 0, 131206, 0, 0, 131207, 0, 0, 131208, 0, 0, 131209, 0, 0, 131210, 0, 0, 131211, 0, 0, 131212, 0, 0, 131213, 0, 0, 131214, 0, 0 )

[node name="Ledges" type="TileMap" parent="TileMap"]
visible = false
z_index = -1
tile_set = ExtResource( 3 )
cell_size = Vector2( 32, 32 )
collision_layer = 1024
collision_mask = 0
format = 1
script = ExtResource( 4 )

[node name="Node2D" type="Node2D" parent="."]
visible = false
position = Vector2( 150, -115 )
rotation = 1.61821

[node name="Light2D6" parent="Node2D" instance=ExtResource( 7 )]
visible = false
position = Vector2( 0, 0 )
texture = ExtResource( 9 )
texture_scale = 1.0
range_height = 50.0
shadow_enabled = true
shadow_item_cull_mask = 3

[node name="Light2D7" parent="Node2D" instance=ExtResource( 7 )]
position = Vector2( 187.43, -417.352 )
texture = ExtResource( 9 )
texture_scale = 1.0
range_height = 50.0
shadow_enabled = true
shadow_item_cull_mask = 3

[node name="Light2D8" parent="Node2D" instance=ExtResource( 7 )]
position = Vector2( -46.3485, -723.616 )
texture = ExtResource( 9 )
texture_scale = 1.0
range_height = 50.0
shadow_enabled = true
shadow_item_cull_mask = 3

[node name="Light2D9" parent="Node2D" instance=ExtResource( 7 )]
position = Vector2( 152.253, 297.118 )
texture = ExtResource( 9 )
texture_scale = 1.0
range_height = 50.0
shadow_enabled = true
shadow_item_cull_mask = 3

[node name="Light2D10" parent="Node2D" instance=ExtResource( 7 )]
position = Vector2( 307.471, -1178.9 )
texture = ExtResource( 9 )
texture_scale = 1.0
range_height = 50.0
shadow_enabled = true
shadow_item_cull_mask = 3

[node name="Light2D11" parent="Node2D" instance=ExtResource( 7 )]
position = Vector2( 19.8656, -1585.72 )
texture = ExtResource( 9 )
texture_scale = 1.0
range_height = 50.0
shadow_enabled = true
shadow_item_cull_mask = 3

[node name="Light2D5" parent="Node2D" instance=ExtResource( 7 )]
visible = false
position = Vector2( 63.5407, -243.285 )
rotation = -2.98507
texture = ExtResource( 9 )
texture_scale = 1.0
range_height = 50.0
shadow_enabled = true
shadow_item_cull_mask = 3

[node name="rotlight" type="Node2D" parent="."]
position = Vector2( 265, 45 )
rotation = 51.8837
script = ExtResource( 5 )

[node name="Light2D4" parent="rotlight" instance=ExtResource( 7 )]
position = Vector2( -70.866, -37.683 )
texture = ExtResource( 9 )
texture_scale = 1.0
energy = 1.0
range_height = 50.0
range_item_cull_mask = 3
shadow_enabled = true
shadow_item_cull_mask = 3

[node name="Line2D" type="Line2D" parent="rotlight"]
z_index = 20
points = PoolVector2Array( 0, 0, 165, 0 )
width = 1.0
default_color = Color( 0.564706, 0.639216, 1, 0.490196 )

[node name="StoneSpriteShape" parent="." instance=ExtResource( 12 )]
position = Vector2( 556, 88 )

[node name="StoneSpriteShape" parent="StoneSpriteShape" index="0"]
_points = SubResource( 44 )

[node name="CollisionPolygon2D" parent="StoneSpriteShape" index="1"]
polygon = PoolVector2Array( -236, 112.001, -244, 112, -372, 112, -380, 112.001, -387.071, 111.071, -388.001, 104, -388, 96, -388, -48, -388.001, -56.0001, -387.071, -63.0707, -380, -64.0013, -372, -64, -244, -64, -236, -64.0013, -228.929, -63.0707, -227.999, -56.0001, -228, -48, -228, 96, -227.999, 104, -228.929, 111.071 )

[node name="Woodeater_Soldier_Prototype" type="Sprite" parent="."]
position = Vector2( 234, 40 )
texture = ExtResource( 6 )

[node name="LightOccluder2D" type="LightOccluder2D" parent="Woodeater_Soldier_Prototype"]
occluder = SubResource( 1 )

[node name="RosePrefab" parent="." instance=ExtResource( 2 )]
position = Vector2( -247, 11 )

[node name="Rose" parent="RosePrefab" index="0"]
max_flora = 10
max_focus = 3

[editable path="StoneSpriteShape"]
[editable path="RosePrefab"]
